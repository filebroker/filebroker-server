ALTER TABLE post ALTER COLUMN s3_object DROP NOT NULL;

DROP TRIGGER create_initial_s3_object_metadata ON s3_object;
DROP FUNCTION create_initial_s3_object_metadata();

DROP INDEX s3_object_metadata_mime_type_idx;
DROP INDEX s3_object_metadata_mime_type_gin_idx;

DROP INDEX s3_object_metadata_artist_idx;
DROP INDEX s3_object_metadata_artist_desc_idx;
DROP INDEX s3_object_metadata_artist_gin_idx;

DROP INDEX s3_object_metadata_album_idx;
DROP INDEX s3_object_metadata_album_desc_idx;
DROP INDEX s3_object_metadata_album_gin_idx;

DROP INDEX s3_object_metadata_artist_album_idx;
DROP INDEX s3_object_metadata_artist_desc_album_idx;
DROP INDEX s3_object_metadata_artist_album_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_album_desc_idx;
DROP INDEX s3_object_metadata_album_artist_idx;
DROP INDEX s3_object_metadata_album_artist_desc_idx;
DROP INDEX s3_object_metadata_album_desc_artist_idx;
DROP INDEX s3_object_metadata_album_desc_artist_desc_idx;

DROP INDEX s3_object_metadata_genre_idx;
DROP INDEX s3_object_metadata_genre_gin_idx;

DROP INDEX s3_object_metadata_date_idx;
DROP INDEX s3_object_metadata_date_desc_idx;

DROP INDEX s3_object_metadata_artist_date_idx;
DROP INDEX s3_object_metadata_artist_desc_date_idx;
DROP INDEX s3_object_metadata_artist_date_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_date_desc_idx;
DROP INDEX s3_object_metadata_date_artist_idx;
DROP INDEX s3_object_metadata_date_artist_desc_idx;
DROP INDEX s3_object_metadata_date_desc_artist_idx;
DROP INDEX s3_object_metadata_date_desc_artist_desc_idx;
DROP INDEX s3_object_metadata_album_date_idx;
DROP INDEX s3_object_metadata_album_desc_date_idx;
DROP INDEX s3_object_metadata_album_date_desc_idx;
DROP INDEX s3_object_metadata_album_desc_date_desc_idx;
DROP INDEX s3_object_metadata_date_album_idx;
DROP INDEX s3_object_metadata_date_album_desc_idx;
DROP INDEX s3_object_metadata_date_desc_album_idx;
DROP INDEX s3_object_metadata_date_desc_album_desc_idx;

DROP INDEX s3_object_metadata_duration_idx;
DROP INDEX s3_object_metadata_duration_desc_idx;

DROP INDEX s3_object_metadata_artist_duration_idx;
DROP INDEX s3_object_metadata_artist_desc_duration_idx;
DROP INDEX s3_object_metadata_artist_duration_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_duration_desc_idx;
DROP INDEX s3_object_metadata_duration_artist_idx;
DROP INDEX s3_object_metadata_duration_artist_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_artist_idx;
DROP INDEX s3_object_metadata_duration_desc_artist_desc_idx;
DROP INDEX s3_object_metadata_album_duration_idx;
DROP INDEX s3_object_metadata_album_desc_duration_idx;
DROP INDEX s3_object_metadata_album_duration_desc_idx;
DROP INDEX s3_object_metadata_album_desc_duration_desc_idx;
DROP INDEX s3_object_metadata_duration_album_idx;
DROP INDEX s3_object_metadata_duration_album_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_album_idx;
DROP INDEX s3_object_metadata_duration_desc_album_desc_idx;
DROP INDEX s3_object_metadata_date_duration_idx;
DROP INDEX s3_object_metadata_date_desc_duration_idx;
DROP INDEX s3_object_metadata_date_duration_desc_idx;
DROP INDEX s3_object_metadata_date_desc_duration_desc_idx;
DROP INDEX s3_object_metadata_duration_date_idx;
DROP INDEX s3_object_metadata_duration_date_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_date_idx;
DROP INDEX s3_object_metadata_duration_desc_date_desc_idx;

DROP INDEX s3_object_metadata_track_number_idx;
DROP INDEX s3_object_metadata_track_number_desc_idx;
DROP INDEX s3_object_metadata_track_number_gin_idx;

DROP INDEX s3_object_metadata_artist_track_number_idx;
DROP INDEX s3_object_metadata_artist_desc_track_number_idx;
DROP INDEX s3_object_metadata_artist_track_number_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_track_number_desc_idx;
DROP INDEX s3_object_metadata_track_number_artist_idx;
DROP INDEX s3_object_metadata_track_number_artist_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_artist_idx;
DROP INDEX s3_object_metadata_track_number_desc_artist_desc_idx;
DROP INDEX s3_object_metadata_album_track_number_idx;
DROP INDEX s3_object_metadata_album_desc_track_number_idx;
DROP INDEX s3_object_metadata_album_track_number_desc_idx;
DROP INDEX s3_object_metadata_album_desc_track_number_desc_idx;
DROP INDEX s3_object_metadata_track_number_album_idx;
DROP INDEX s3_object_metadata_track_number_album_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_album_idx;
DROP INDEX s3_object_metadata_track_number_desc_album_desc_idx;
DROP INDEX s3_object_metadata_date_track_number_idx;
DROP INDEX s3_object_metadata_date_desc_track_number_idx;
DROP INDEX s3_object_metadata_date_track_number_desc_idx;
DROP INDEX s3_object_metadata_date_desc_track_number_desc_idx;
DROP INDEX s3_object_metadata_track_number_date_idx;
DROP INDEX s3_object_metadata_track_number_date_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_date_idx;
DROP INDEX s3_object_metadata_track_number_desc_date_desc_idx;
DROP INDEX s3_object_metadata_duration_track_number_idx;
DROP INDEX s3_object_metadata_duration_desc_track_number_idx;
DROP INDEX s3_object_metadata_duration_track_number_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_track_number_desc_idx;
DROP INDEX s3_object_metadata_track_number_duration_idx;
DROP INDEX s3_object_metadata_track_number_duration_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_duration_idx;
DROP INDEX s3_object_metadata_track_number_desc_duration_desc_idx;

DROP INDEX s3_object_metadata_disc_number_idx;
DROP INDEX s3_object_metadata_disc_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_gin_idx;

DROP INDEX s3_object_metadata_artist_disc_number_idx;
DROP INDEX s3_object_metadata_artist_desc_disc_number_idx;
DROP INDEX s3_object_metadata_artist_disc_number_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_disc_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_artist_idx;
DROP INDEX s3_object_metadata_disc_number_artist_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_artist_idx;
DROP INDEX s3_object_metadata_disc_number_desc_artist_desc_idx;
DROP INDEX s3_object_metadata_album_disc_number_idx;
DROP INDEX s3_object_metadata_album_desc_disc_number_idx;
DROP INDEX s3_object_metadata_album_disc_number_desc_idx;
DROP INDEX s3_object_metadata_album_desc_disc_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_album_idx;
DROP INDEX s3_object_metadata_disc_number_album_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_album_idx;
DROP INDEX s3_object_metadata_disc_number_desc_album_desc_idx;
DROP INDEX s3_object_metadata_date_disc_number_idx;
DROP INDEX s3_object_metadata_date_desc_disc_number_idx;
DROP INDEX s3_object_metadata_date_disc_number_desc_idx;
DROP INDEX s3_object_metadata_date_desc_disc_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_date_idx;
DROP INDEX s3_object_metadata_disc_number_date_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_date_idx;
DROP INDEX s3_object_metadata_disc_number_desc_date_desc_idx;
DROP INDEX s3_object_metadata_duration_disc_number_idx;
DROP INDEX s3_object_metadata_duration_desc_disc_number_idx;
DROP INDEX s3_object_metadata_duration_disc_number_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_disc_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_duration_idx;
DROP INDEX s3_object_metadata_disc_number_duration_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_duration_idx;
DROP INDEX s3_object_metadata_disc_number_desc_duration_desc_idx;
DROP INDEX s3_object_metadata_track_number_disc_number_idx;
DROP INDEX s3_object_metadata_track_number_desc_disc_number_idx;
DROP INDEX s3_object_metadata_track_number_disc_number_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_disc_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_track_number_idx;
DROP INDEX s3_object_metadata_disc_number_track_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_track_number_idx;
DROP INDEX s3_object_metadata_disc_number_desc_track_number_desc_idx;

DROP INDEX s3_object_metadata_width_idx;
DROP INDEX s3_object_metadata_width_desc_idx;

DROP INDEX s3_object_metadata_artist_width_idx;
DROP INDEX s3_object_metadata_artist_desc_width_idx;
DROP INDEX s3_object_metadata_artist_width_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_width_desc_idx;
DROP INDEX s3_object_metadata_width_artist_idx;
DROP INDEX s3_object_metadata_width_artist_desc_idx;
DROP INDEX s3_object_metadata_width_desc_artist_idx;
DROP INDEX s3_object_metadata_width_desc_artist_desc_idx;
DROP INDEX s3_object_metadata_album_width_idx;
DROP INDEX s3_object_metadata_album_desc_width_idx;
DROP INDEX s3_object_metadata_album_width_desc_idx;
DROP INDEX s3_object_metadata_album_desc_width_desc_idx;
DROP INDEX s3_object_metadata_width_album_idx;
DROP INDEX s3_object_metadata_width_album_desc_idx;
DROP INDEX s3_object_metadata_width_desc_album_idx;
DROP INDEX s3_object_metadata_width_desc_album_desc_idx;
DROP INDEX s3_object_metadata_date_width_idx;
DROP INDEX s3_object_metadata_date_desc_width_idx;
DROP INDEX s3_object_metadata_date_width_desc_idx;
DROP INDEX s3_object_metadata_date_desc_width_desc_idx;
DROP INDEX s3_object_metadata_width_date_idx;
DROP INDEX s3_object_metadata_width_date_desc_idx;
DROP INDEX s3_object_metadata_width_desc_date_idx;
DROP INDEX s3_object_metadata_width_desc_date_desc_idx;
DROP INDEX s3_object_metadata_duration_width_idx;
DROP INDEX s3_object_metadata_duration_desc_width_idx;
DROP INDEX s3_object_metadata_duration_width_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_width_desc_idx;
DROP INDEX s3_object_metadata_width_duration_idx;
DROP INDEX s3_object_metadata_width_duration_desc_idx;
DROP INDEX s3_object_metadata_width_desc_duration_idx;
DROP INDEX s3_object_metadata_width_desc_duration_desc_idx;
DROP INDEX s3_object_metadata_track_number_width_idx;
DROP INDEX s3_object_metadata_track_number_desc_width_idx;
DROP INDEX s3_object_metadata_track_number_width_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_width_desc_idx;
DROP INDEX s3_object_metadata_width_track_number_idx;
DROP INDEX s3_object_metadata_width_track_number_desc_idx;
DROP INDEX s3_object_metadata_width_desc_track_number_idx;
DROP INDEX s3_object_metadata_width_desc_track_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_width_idx;
DROP INDEX s3_object_metadata_disc_number_desc_width_idx;
DROP INDEX s3_object_metadata_disc_number_width_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_width_desc_idx;
DROP INDEX s3_object_metadata_width_disc_number_idx;
DROP INDEX s3_object_metadata_width_disc_number_desc_idx;
DROP INDEX s3_object_metadata_width_desc_disc_number_idx;
DROP INDEX s3_object_metadata_width_desc_disc_number_desc_idx;

DROP INDEX s3_object_metadata_height_idx;
DROP INDEX s3_object_metadata_height_desc_idx;

DROP INDEX s3_object_metadata_artist_height_idx;
DROP INDEX s3_object_metadata_artist_desc_height_idx;
DROP INDEX s3_object_metadata_artist_height_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_height_desc_idx;
DROP INDEX s3_object_metadata_height_artist_idx;
DROP INDEX s3_object_metadata_height_artist_desc_idx;
DROP INDEX s3_object_metadata_height_desc_artist_idx;
DROP INDEX s3_object_metadata_height_desc_artist_desc_idx;
DROP INDEX s3_object_metadata_album_height_idx;
DROP INDEX s3_object_metadata_album_desc_height_idx;
DROP INDEX s3_object_metadata_album_height_desc_idx;
DROP INDEX s3_object_metadata_album_desc_height_desc_idx;
DROP INDEX s3_object_metadata_height_album_idx;
DROP INDEX s3_object_metadata_height_album_desc_idx;
DROP INDEX s3_object_metadata_height_desc_album_idx;
DROP INDEX s3_object_metadata_height_desc_album_desc_idx;
DROP INDEX s3_object_metadata_date_height_idx;
DROP INDEX s3_object_metadata_date_desc_height_idx;
DROP INDEX s3_object_metadata_date_height_desc_idx;
DROP INDEX s3_object_metadata_date_desc_height_desc_idx;
DROP INDEX s3_object_metadata_height_date_idx;
DROP INDEX s3_object_metadata_height_date_desc_idx;
DROP INDEX s3_object_metadata_height_desc_date_idx;
DROP INDEX s3_object_metadata_height_desc_date_desc_idx;
DROP INDEX s3_object_metadata_duration_height_idx;
DROP INDEX s3_object_metadata_duration_desc_height_idx;
DROP INDEX s3_object_metadata_duration_height_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_height_desc_idx;
DROP INDEX s3_object_metadata_height_duration_idx;
DROP INDEX s3_object_metadata_height_duration_desc_idx;
DROP INDEX s3_object_metadata_height_desc_duration_idx;
DROP INDEX s3_object_metadata_height_desc_duration_desc_idx;
DROP INDEX s3_object_metadata_track_number_height_idx;
DROP INDEX s3_object_metadata_track_number_desc_height_idx;
DROP INDEX s3_object_metadata_track_number_height_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_height_desc_idx;
DROP INDEX s3_object_metadata_height_track_number_idx;
DROP INDEX s3_object_metadata_height_track_number_desc_idx;
DROP INDEX s3_object_metadata_height_desc_track_number_idx;
DROP INDEX s3_object_metadata_height_desc_track_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_height_idx;
DROP INDEX s3_object_metadata_disc_number_desc_height_idx;
DROP INDEX s3_object_metadata_disc_number_height_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_height_desc_idx;
DROP INDEX s3_object_metadata_height_disc_number_idx;
DROP INDEX s3_object_metadata_height_disc_number_desc_idx;
DROP INDEX s3_object_metadata_height_desc_disc_number_idx;
DROP INDEX s3_object_metadata_height_desc_disc_number_desc_idx;
DROP INDEX s3_object_metadata_width_height_idx;
DROP INDEX s3_object_metadata_width_desc_height_idx;
DROP INDEX s3_object_metadata_width_height_desc_idx;
DROP INDEX s3_object_metadata_width_desc_height_desc_idx;
DROP INDEX s3_object_metadata_height_width_idx;
DROP INDEX s3_object_metadata_height_width_desc_idx;
DROP INDEX s3_object_metadata_height_desc_width_idx;
DROP INDEX s3_object_metadata_height_desc_width_desc_idx;

DROP INDEX s3_object_metadata_size_idx;
DROP INDEX s3_object_metadata_size_desc_idx;

DROP INDEX s3_object_metadata_artist_size_idx;
DROP INDEX s3_object_metadata_artist_desc_size_idx;
DROP INDEX s3_object_metadata_artist_size_desc_idx;
DROP INDEX s3_object_metadata_artist_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_artist_idx;
DROP INDEX s3_object_metadata_size_artist_desc_idx;
DROP INDEX s3_object_metadata_size_desc_artist_idx;
DROP INDEX s3_object_metadata_size_desc_artist_desc_idx;
DROP INDEX s3_object_metadata_album_size_idx;
DROP INDEX s3_object_metadata_album_desc_size_idx;
DROP INDEX s3_object_metadata_album_size_desc_idx;
DROP INDEX s3_object_metadata_album_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_album_idx;
DROP INDEX s3_object_metadata_size_album_desc_idx;
DROP INDEX s3_object_metadata_size_desc_album_idx;
DROP INDEX s3_object_metadata_size_desc_album_desc_idx;
DROP INDEX s3_object_metadata_date_size_idx;
DROP INDEX s3_object_metadata_date_desc_size_idx;
DROP INDEX s3_object_metadata_date_size_desc_idx;
DROP INDEX s3_object_metadata_date_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_date_idx;
DROP INDEX s3_object_metadata_size_date_desc_idx;
DROP INDEX s3_object_metadata_size_desc_date_idx;
DROP INDEX s3_object_metadata_size_desc_date_desc_idx;
DROP INDEX s3_object_metadata_duration_size_idx;
DROP INDEX s3_object_metadata_duration_desc_size_idx;
DROP INDEX s3_object_metadata_duration_size_desc_idx;
DROP INDEX s3_object_metadata_duration_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_duration_idx;
DROP INDEX s3_object_metadata_size_duration_desc_idx;
DROP INDEX s3_object_metadata_size_desc_duration_idx;
DROP INDEX s3_object_metadata_size_desc_duration_desc_idx;
DROP INDEX s3_object_metadata_track_number_size_idx;
DROP INDEX s3_object_metadata_track_number_desc_size_idx;
DROP INDEX s3_object_metadata_track_number_size_desc_idx;
DROP INDEX s3_object_metadata_track_number_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_track_number_idx;
DROP INDEX s3_object_metadata_size_track_number_desc_idx;
DROP INDEX s3_object_metadata_size_desc_track_number_idx;
DROP INDEX s3_object_metadata_size_desc_track_number_desc_idx;
DROP INDEX s3_object_metadata_disc_number_size_idx;
DROP INDEX s3_object_metadata_disc_number_desc_size_idx;
DROP INDEX s3_object_metadata_disc_number_size_desc_idx;
DROP INDEX s3_object_metadata_disc_number_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_disc_number_idx;
DROP INDEX s3_object_metadata_size_disc_number_desc_idx;
DROP INDEX s3_object_metadata_size_desc_disc_number_idx;
DROP INDEX s3_object_metadata_size_desc_disc_number_desc_idx;
DROP INDEX s3_object_metadata_width_size_idx;
DROP INDEX s3_object_metadata_width_desc_size_idx;
DROP INDEX s3_object_metadata_width_size_desc_idx;
DROP INDEX s3_object_metadata_width_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_width_idx;
DROP INDEX s3_object_metadata_size_width_desc_idx;
DROP INDEX s3_object_metadata_size_desc_width_idx;
DROP INDEX s3_object_metadata_size_desc_width_desc_idx;
DROP INDEX s3_object_metadata_height_size_idx;
DROP INDEX s3_object_metadata_height_desc_size_idx;
DROP INDEX s3_object_metadata_height_size_desc_idx;
DROP INDEX s3_object_metadata_height_desc_size_desc_idx;
DROP INDEX s3_object_metadata_size_height_idx;
DROP INDEX s3_object_metadata_size_height_desc_idx;
DROP INDEX s3_object_metadata_size_desc_height_idx;
DROP INDEX s3_object_metadata_size_desc_height_desc_idx;

ALTER TABLE s3_object_metadata ALTER COLUMN date TYPE text USING date::text;
ALTER TABLE s3_object_metadata ALTER COLUMN duration TYPE text USING duration::text;
ALTER TABLE s3_object_metadata DROP COLUMN loaded;
